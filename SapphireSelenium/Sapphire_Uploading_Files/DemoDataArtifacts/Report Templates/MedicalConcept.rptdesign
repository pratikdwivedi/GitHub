<?xml version="1.0" encoding="UTF-8"?>
<report xmlns="http://www.eclipse.org/birt/2005/design" version="3.2.23" id="1">
    <property name="createdBy">Eclipse BIRT Designer Version 4.3.1.v201309091055 Build &lt;4.3.1.v20130917-1035></property>
    <list-property name="userProperties">
        <structure>
            <property name="name">ageGrpGender.grpAgeGrpGender.x</property>
            <property name="type">integer</property>
            <property name="isVisible">false</property>
        </structure>
        <structure>
            <property name="name">ageGrpGender.grpAgeGrpGender.y</property>
            <property name="type">integer</property>
            <property name="isVisible">false</property>
        </structure>
        <structure>
            <property name="name">Data Cube.grpAgeGrpGender.x</property>
            <property name="type">integer</property>
            <property name="isVisible">false</property>
        </structure>
        <structure>
            <property name="name">Data Cube.grpAgeGrpGender.y</property>
            <property name="type">integer</property>
            <property name="isVisible">false</property>
        </structure>
        <structure>
            <property name="name">ageGenderCube.grpAgeGrpGender.x</property>
            <property name="type">integer</property>
            <property name="isVisible">false</property>
        </structure>
        <structure>
            <property name="name">ageGenderCube.grpAgeGrpGender.y</property>
            <property name="type">integer</property>
            <property name="isVisible">false</property>
        </structure>
        <structure>
            <property name="name">MedicalConcept.MedicalConcept.x</property>
            <property name="type">integer</property>
            <property name="isVisible">false</property>
        </structure>
        <structure>
            <property name="name">MedicalConcept.MedicalConcept.y</property>
            <property name="type">integer</property>
            <property name="isVisible">false</property>
        </structure>
    </list-property>
    <property name="ageGrpGender.grpAgeGrpGender.x">135</property>
    <property name="ageGrpGender.grpAgeGrpGender.y">80</property>
    <property name="Data Cube.grpAgeGrpGender.x">135</property>
    <property name="Data Cube.grpAgeGrpGender.y">80</property>
    <property name="ageGenderCube.grpAgeGrpGender.x">135</property>
    <property name="ageGenderCube.grpAgeGrpGender.y">80</property>
    <property name="MedicalConcept.MedicalConcept.x">135</property>
    <property name="MedicalConcept.MedicalConcept.y">80</property>
    <property name="units">in</property>
    <method name="initialize"><![CDATA[importPackage( Packages.org.eclipse.birt.report.engine.api.script.element );
importPackage(Packages.org.eclipse.birt.report.model.api);
importPackage(Packages.org.eclipse.birt.report.model.api.elements);
importPackage(Packages.org.eclipse.birt.report.model.api.elements.structures);


if (params["Event group"].value !=null){

	var str = "";
	elementFactory = reportContext.getDesignHandle().getElementFactory();
	mytable = reportContext.getDesignHandle().findElement("FactGroup");
	dataCols = params["Event group"].split("~");
	colBinding = mytable.getColumnBindings();
	// group column binding
	ccb = StructureFactory.createComputedColumn();	
	ccb.setName("grpClm");	
	ccb.setExpression("dataSetRow[\"grpClm\"]");	
	ccb.setDataType("String");	
	colBinding.addItem(ccb);
	// group
	group = elementFactory.newTableGroup( );
	group.setName("CaseGroup");
	var newKeyExpr = new Expression("row[\"grpClm\"]", ExpressionType.JAVASCRIPT);
	group.setExpressionProperty( "keyExpr",	newKeyExpr );
	group.setInterval("none");
	group.setSortDirection("asc");		
	mytable.getGroups( ).add( group );
	
	groupFooter = elementFactory.newTableRow( 1+dataCols.length);	
	tcell = groupFooter.getCells( ).get( 0 );
	mylabel = elementFactory.newLabel( null );
	mylabel.setText( "Total" );
	tcell.getContent( ).add( mylabel );
	tcell.setProperty("backgroundColor","silver");	
	tcell.setProperty("fontWeight","bold");
	tcell.setProperty("borderTopStyle","solid");
	tcell.setProperty("borderTopColor","gray");
	tcell.setProperty("borderTopWidth","thin");
	tcell.setProperty("borderRightStyle","solid");
	tcell.setProperty("borderRightColor","gray");
	tcell.setProperty("borderRightWidth","thin");
	tcell.setProperty("borderBottomStyle","solid");
	tcell.setProperty("borderBottomColor","gray");
	tcell.setProperty("borderBottomWidth","thin");
	tcell.setProperty("borderLeftStyle","solid");
	tcell.setProperty("borderLeftColor","gray");
	tcell.setProperty("borderLeftWidth","thin");
	for(i=0;i<dataCols.length;i++)
	{
	// Add column bindings to the table
		ccb = StructureFactory.createComputedColumn();	
		ccb.setName(dataCols[i]);	
		ccb.setExpression("dataSetRow[\""+dataCols[i]+"\"]");	
		ccb.setDataType("String");	
		colBinding.addItem(ccb); 		
	// Add aggregate column to group
		csg = StructureFactory.createComputedColumn( );
		csg.setName("Total"+i);
		csg.setDataType("Integer");
		csg.setAggregateOn("CaseGroup");
        csg.setAggregateFunction("Sum");
        var expression = new Expression("row[\""+dataCols[i]+"\"]", ExpressionType.JAVASCRIPT);
        aggrArgument = StructureFactory.createAggregationArgument( );
		aggrArgument.setName( "Expression" );
		aggrArgument.setExpressionProperty("value",expression);
        csg.addArgument( aggrArgument );
		colBinding.addItem( csg );		
// Add column
		mytable.insertColumn(dataCols.length+1,1);	
		
// Add column headers
		myheader = mytable.getHeader( ).get( 0 );
		tcell = myheader.getCells( ).get( i+1 );		
		
		mylabel = elementFactory.newLabel( null );
		mylabel.setText( dataCols[i] );
		tcell.getContent( ).add( mylabel );
		tcell.setProperty("backgroundColor","silver");
		tcell.setProperty("borderTopStyle","solid");
		tcell.setProperty("borderTopColor","gray");
		tcell.setProperty("borderTopWidth","thin");
		tcell.setProperty("borderRightStyle","solid");
		tcell.setProperty("borderRightColor","gray");
		tcell.setProperty("borderRightWidth","thin");
		tcell.setProperty("borderBottomStyle","solid");
		tcell.setProperty("borderBottomColor","gray");
		tcell.setProperty("borderBottomWidth","thin");
		tcell.setProperty("borderLeftStyle","solid");
		tcell.setProperty("borderLeftColor","gray");
		tcell.setProperty("borderLeftWidth","thin");
				
// and finally add data items
		mydetail =  mytable.getDetail( ).get( 0 );
		tcell = mydetail.getCells( ).get( i+1);
		mydata = elementFactory.newDataItem( null );
		mydata.setResultSetColumn( dataCols[i]);
		tcell.getContent( ).add( mydata );
		tcell.setProperty("borderTopStyle","solid");
		tcell.setProperty("borderTopColor","gray");
		tcell.setProperty("borderTopWidth","thin");
		tcell.setProperty("borderRightStyle","solid");
		tcell.setProperty("borderRightColor","gray");
		tcell.setProperty("borderRightWidth","thin");
		tcell.setProperty("borderBottomStyle","solid");
		tcell.setProperty("borderBottomColor","gray");
		tcell.setProperty("borderBottomWidth","thin");
		tcell.setProperty("borderLeftStyle","solid");
		tcell.setProperty("borderLeftColor","gray");
		tcell.setProperty("borderLeftWidth","thin");
		tcell.setProperty("textAlign","center");
		
		
		tcell = groupFooter.getCells( ).get( i+1 );
		gdata = elementFactory.newDataItem( null );
		gdata.setResultSetColumn( "Total" +i);
		fv = StructureFactory.newFormatValue();
		fv.setPattern("###0{RoundingMode=HALF_UP}");
		gdata.setProperty("numberFormat", fv);
		gdata.setProperty("textAlign","center");
		tcell.getContent( ).add( gdata );
		tcell.setProperty("backgroundColor","silver");		
		tcell.setProperty("fontWeight","bold");
		tcell.setProperty("borderTopStyle","solid");
		tcell.setProperty("borderTopColor","gray");
		tcell.setProperty("borderTopWidth","thin");
		tcell.setProperty("borderRightStyle","solid");
		tcell.setProperty("borderRightColor","gray");
		tcell.setProperty("borderRightWidth","thin");
		tcell.setProperty("borderBottomStyle","solid");
		tcell.setProperty("borderBottomColor","gray");
		tcell.setProperty("borderBottomWidth","thin");
		tcell.setProperty("borderLeftStyle","solid");
		tcell.setProperty("borderLeftColor","gray");
		tcell.setProperty("borderLeftWidth","thin");
	}
	
		
	group.getFooter( ).add( groupFooter );	
	//groupHeader = elementFactory.newTableRow( mytable.getColumnCount() );
	//var tcell =  groupHeader.getCells( ).get( 1 );
	//var gdata = elementFactory.newDataItem( null );
	//gdata.setResultSetColumn( "grpClm" );
	//tcell.getContent( ).add( gdata );
	//group.getHeader( ).add( groupHeader );
	

	
	

}]]></method>
    <property name="layoutPreference">auto layout</property>
    <property name="bidiLayoutOrientation">ltr</property>
    <property name="imageDPI">96</property>
    <parameters>
        <scalar-parameter name="Product Level" id="1031">
            <text-property name="promptText">Product Level</text-property>
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">Generic name</value>
            </simple-property-list>
            <list-property name="selectionList">
                <structure>
                    <property name="value">Trade name</property>
                    <property name="label">Trade name</property>
                </structure>
                <structure>
                    <property name="value">Generic name</property>
                    <property name="label">Generic name</property>
                </structure>
                <structure>
                    <property name="value">Ingredient</property>
                    <property name="label">Ingredient</property>
                </structure>
            </list-property>
            <property name="paramType">simple</property>
            <property name="controlType">list-box</property>
            <property name="mustMatch">true</property>
            <property name="fixedOrder">true</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="Drug Name" id="1032">
            <text-property name="promptText">Drug Name</text-property>
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">Romidepsin</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name=":hidden_userId" id="1051">
            <text-property name="promptText">:hidden_userId</text-property>
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">System</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="Event group" id="1828">
            <text-property name="promptText">Event group</text-property>
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name=":hidden_aerssource" id="1829">
            <text-property name="promptText">:hidden_aerssource</text-property>
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">aers</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
    </parameters>
    <data-sources>
        <oda-data-source extensionID="org.eclipse.birt.report.data.oda.jdbc" name="sapphire" id="207">
            <list-property name="privateDriverProperties">
                <ex-property>
                    <name>metadataBidiFormatStr</name>
                    <value>ILYNN</value>
                </ex-property>
                <ex-property>
                    <name>disabledMetadataBidiFormatStr</name>
                </ex-property>
                <ex-property>
                    <name>contentBidiFormatStr</name>
                    <value>ILYNN</value>
                </ex-property>
                <ex-property>
                    <name>disabledContentBidiFormatStr</name>
                </ex-property>
            </list-property>
            <property name="odaDriverClass">com.mysql.jdbc.Driver</property>
            <property name="odaURL">jdbc:mysql://192.168.1.5:3306/sapphire</property>
            <property name="odaUser">root</property>
            <encrypted-property name="odaPassword" encryptionID="base64">bWFuYWdlcjEyMw==</encrypted-property>
            <property name="odaJndiName">java:comp/env/jdbc/MSDB</property>
        </oda-data-source>
    </data-sources>
    <data-sets>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="FactGroup" id="1627">
            <property name="nullsOrdering">nulls lowest</property>
            <list-property name="columnHints"/>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">grpClm</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">drug_name</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">Abasia</property>
                        <property name="dataType">decimal</property>
                    </structure>
                </list-property>
            </structure>
            <method name="beforeOpen"><![CDATA[	var datasource = params[":hidden_aerssource"];
	this.queryText = this.queryText.replace(":hidden_aerssource",datasource);
	
	var drugtype = params["Product Level"];
	var prodList = params["Drug Name"].split("~");
	var parameter = "'"+prodList.join("','")+"'";
	var dnexp = "drug_name IN ("+parameter+") ";
	var exp = "generic_name IN ("+parameter+") ";
	var drugexp = "a.generic_name";
	
	if(params["Product Level"].value == 'Trade name'){
	       	exp = " trade_name IN ("+parameter+") " ;
	       	drugexp = "a.trade_name"
	       }else if(params["Product Level"].value == 'Generic name'){
	       	exp = "generic_name IN ("+parameter+") ";
	       	drugexp = "a.generic_name";
	       }
	this.queryText = this.queryText.replace(":generic_name=\"\"",exp);
	this.queryText = this.queryText.replace("a.generic_name=\"\"",drugexp);
	
	var groupList = params["Event group"].split("~");
	var idx="";
	var output="";
	var subQuerytext=null;
	var isNotFirst = false;
	for(i=0; i < groupList.length;i++){
		subQuerytext = "left join (select a.generic_name, count(distinct(a.isr_id)) as ':calias' from :hidden_aerssource.fact_demo_drugs_reacs a,lib_event_group_map b,lib_event_groups c where a.pt_name=b.name and c.name=':cname' and c.record_id = b.fk_group_id and a.:generic_name group by a.generic_name) T:index on D1.drug_name=T:index.generic_name ";
		idx = i+"";
		if(isNotFirst){
			output +=", ";
		}
		isNotFirst = true;
		output += "T"+idx+".P"+idx+" as '"+groupList[idx]+"'";
		subQuerytext = subQuerytext.replace(":index",idx);
		if(params["Product Level"].value == 'Generic name'){
	       	subQuerytext = subQuerytext.replace("T:index.generic_name","T"+idx+".generic_name");
	       }else if(params["Product Level"].value == 'Trade name'){
	       	subQuerytext = subQuerytext.replace("T:index.generic_name","T"+idx+".trade_name");
	       }
		subQuerytext = subQuerytext.replace(":calias","P"+idx);
		subQuerytext = subQuerytext.replace(":cname",groupList[idx]);
		subQuerytext = subQuerytext.replace(":generic_name",exp);
		subQuerytext = subQuerytext.replace("a.generic_name",drugexp);
		subQuerytext = subQuerytext.replace(":hidden_aerssource",datasource);
		this.queryText +=" ";
		this.queryText +=subQuerytext;
	}	
	this.queryText = this.queryText.replace(":groupname",output);
	this.queryText = this.queryText.replace(":drug_name",dnexp);
	Packages.java.lang.System.out.println (this.queryText );
	]]></method>
            <property name="dataSource">sapphire</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">grpClm</property>
                    <property name="nativeName">grpClm</property>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">drug_name</property>
                    <property name="nativeName">drug_name</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">Abasia</property>
                    <property name="nativeName">Abasia</property>
                    <property name="dataType">decimal</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[select 1 as grpClm,D1.drug_name, :groupname
from (select distinct drug_name from dict.who_dc_med_product where :drug_name) D1 
]]></xml-property>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>drug_name</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>100</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>drug_name</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>drug_name</design:label>
            <design:formattingHints>
              <design:displaySize>100</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>CMV</design:name>
              <design:position>2</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>-5</design:nativeDataTypeCode>
            <design:precision>21</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>CMV</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>CMV</design:label>
            <design:formattingHints>
              <design:displaySize>21</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>EBV</design:name>
              <design:position>3</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>-5</design:nativeDataTypeCode>
            <design:precision>21</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>EBV</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>EBV</design:label>
            <design:formattingHints>
              <design:displaySize>21</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
    </data-sets>
    <styles>
        <style name="report" id="4">
            <property name="fontFamily">sans-serif</property>
            <property name="fontSize">10pt</property>
        </style>
        <style name="crosstab-cell" id="5">
            <property name="borderBottomColor">#CCCCCC</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">1pt</property>
            <property name="borderLeftColor">#CCCCCC</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">1pt</property>
            <property name="borderRightColor">#CCCCCC</property>
            <property name="borderRightStyle">solid</property>
            <property name="borderRightWidth">1pt</property>
            <property name="borderTopColor">#CCCCCC</property>
            <property name="borderTopStyle">solid</property>
            <property name="borderTopWidth">1pt</property>
        </style>
        <style name="crosstab" id="6">
            <property name="borderBottomColor">#CCCCCC</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">1pt</property>
            <property name="borderLeftColor">#CCCCCC</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">1pt</property>
            <property name="borderRightColor">#CCCCCC</property>
            <property name="borderRightStyle">solid</property>
            <property name="borderRightWidth">1pt</property>
            <property name="borderTopColor">#CCCCCC</property>
            <property name="borderTopStyle">solid</property>
            <property name="borderTopWidth">1pt</property>
        </style>
    </styles>
    <page-setup>
        <simple-master-page name="Header Page" id="2">
            <property name="type">custom</property>
            <property name="borderBottomColor">#C0C0C0</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">thin</property>
            <property name="borderLeftColor">#C0C0C0</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">thin</property>
            <property name="borderRightColor">#C0C0C0</property>
            <property name="borderRightStyle">solid</property>
            <property name="borderRightWidth">thin</property>
            <property name="borderTopColor">#C0C0C0</property>
            <property name="borderTopStyle">solid</property>
            <property name="borderTopWidth">thin</property>
            <property name="height">14in</property>
            <property name="width">12in</property>
            <property name="headerHeight">0in</property>
            <property name="footerHeight">0.5in</property>
            <page-footer>
                <grid id="1062">
                    <property name="height">0.625in</property>
                    <property name="width">100%</property>
                    <column id="1063">
                        <property name="width">40%</property>
                    </column>
                    <column id="1064">
                        <property name="width">20%</property>
                    </column>
                    <column id="1065">
                        <property name="width">40%</property>
                    </column>
                    <row id="1066">
                        <cell id="1067">
                            <text id="1081">
                                <property name="paddingTop">5pt</property>
                                <property name="paddingBottom">5pt</property>
                                <property name="contentType">html</property>
                                <text-property name="content"><![CDATA[<value-of>new Date()</value-of>]]></text-property>
                            </text>
                        </cell>
                        <cell id="1068">
                            <grid id="1070">
                                <property name="width">100%</property>
                                <column id="1071">
                                    <property name="width">40%</property>
                                </column>
                                <column id="1072">
                                    <property name="width">20%</property>
                                </column>
                                <column id="1073">
                                    <property name="width">40%</property>
                                </column>
                                <row id="1074">
                                    <cell id="1075">
                                        <auto-text id="1076">
                                            <property name="fontWeight">bold</property>
                                            <property name="paddingTop">5pt</property>
                                            <property name="paddingBottom">5pt</property>
                                            <property name="paddingRight">0pt</property>
                                            <property name="textAlign">right</property>
                                            <property name="type">page-number</property>
                                        </auto-text>
                                    </cell>
                                    <cell id="1077">
                                        <text id="1078">
                                            <property name="fontWeight">bold</property>
                                            <property name="paddingTop">5pt</property>
                                            <property name="paddingBottom">5pt</property>
                                            <property name="textAlign">center</property>
                                            <property name="contentType">plain</property>
                                            <text-property name="content"><![CDATA[/]]></text-property>
                                        </text>
                                    </cell>
                                    <cell id="1079">
                                        <auto-text id="1080">
                                            <property name="fontWeight">bold</property>
                                            <property name="paddingTop">5pt</property>
                                            <property name="paddingBottom">5pt</property>
                                            <property name="textAlign">left</property>
                                            <property name="type">total-page</property>
                                        </auto-text>
                                    </cell>
                                </row>
                            </grid>
                        </cell>
                        <cell id="1069"/>
                    </row>
                </grid>
            </page-footer>
        </simple-master-page>
    </page-setup>
    <body>
        <grid id="1737">
            <column id="1738"/>
            <column id="1739"/>
            <row id="1740">
                <cell id="1741">
                    <property name="colSpan">2</property>
                    <property name="rowSpan">1</property>
                    <label id="1681">
                        <property name="backgroundColor">silver</property>
                        <property name="fontSize">18pt</property>
                        <property name="fontWeight">bold</property>
                        <property name="textAlign">center</property>
                        <text-property name="text">Case counts</text-property>
                    </label>
                </cell>
            </row>
            <row id="1743">
                <cell id="1744">
                    <property name="colSpan">2</property>
                    <property name="rowSpan">1</property>
                    <text id="1818">
                        <property name="fontWeight">bold</property>
                        <property name="fontStyle">italic</property>
                        <property name="paddingTop">5pt</property>
                        <property name="paddingLeft">5pt</property>
                        <property name="paddingBottom">10pt</property>
                        <property name="contentType">auto</property>
                        <text-property name="content"><![CDATA[This reports displays total # of cases for the selected product(s) and the medical concept(s)]]></text-property>
                    </text>
                </cell>
            </row>
            <row id="1746">
                <cell id="1747">
                    <property name="colSpan">1</property>
                    <property name="rowSpan">1</property>
                    <text-data id="1749">
                        <property name="fontWeight">bold</property>
                        <property name="paddingLeft">5pt</property>
                        <expression name="valueExpr">'USER ID : '+params[":hidden_userId"].value</expression>
                        <property name="contentType">html</property>
                    </text-data>
                </cell>
                <cell id="1826">
                    <text-data id="1750">
                        <property name="fontWeight">bold</property>
                        <property name="paddingRight">5pt</property>
                        <property name="textAlign">right</property>
                        <expression name="valueExpr">'Product level : '+params["Product Level"].value</expression>
                        <property name="contentType">html</property>
                    </text-data>
                </cell>
            </row>
            <row id="1821">
                <cell id="1822">
                    <property name="colSpan">2</property>
                    <property name="rowSpan">1</property>
                    <label id="1825">
                        <property name="fontSize">12pt</property>
                        <property name="fontWeight">bold</property>
                        <property name="fontStyle">italic</property>
                        <property name="textLineThrough">none</property>
                        <property name="textUnderline">none</property>
                        <property name="borderBottomColor">#C0C0C0</property>
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">thin</property>
                        <property name="paddingTop">5pt</property>
                        <property name="paddingBottom">5pt</property>
                        <text-property name="text">Criteria : </text-property>
                    </label>
                    <text-data id="1824">
                        <property name="fontWeight">bold</property>
                        <property name="paddingTop">5pt</property>
                        <property name="paddingBottom">5pt</property>
                        <expression name="valueExpr">'Concepts  / Events : '+params["Event group"].split("~") + '&lt;br/>'+'&lt;br/>'+&#13;
'Drugs : '+params["Drug Name"].split("~")</expression>
                        <property name="contentType">html</property>
                    </text-data>
                </cell>
            </row>
        </grid>
        <table name="FactGroup" id="1807">
            <property name="backgroundColor">white</property>
            <property name="borderBottomColor">#808080</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">thin</property>
            <property name="borderLeftColor">#808080</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">thin</property>
            <property name="borderRightColor">#808080</property>
            <property name="borderRightStyle">solid</property>
            <property name="borderRightWidth">thin</property>
            <property name="borderTopColor">#808080</property>
            <property name="borderTopStyle">solid</property>
            <property name="borderTopWidth">thin</property>
            <property name="marginRight">0pt</property>
            <property name="width">100%</property>
            <property name="dataSet">FactGroup</property>
            <list-property name="boundDataColumns">
                <structure>
                    <property name="name">drug_name</property>
                    <text-property name="displayName">Drug Name</text-property>
                    <expression name="expression" type="javascript">dataSetRow["drug_name"]</expression>
                    <property name="dataType">string</property>
                    <property name="allowExport">true</property>
                </structure>
            </list-property>
            <column id="1814"/>
            <header>
                <row id="1808">
                    <cell id="1809">
                        <property name="backgroundColor">silver</property>
                        <property name="borderBottomColor">#000000</property>
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">thin</property>
                        <property name="borderLeftColor">#000000</property>
                        <property name="borderLeftStyle">solid</property>
                        <property name="borderLeftWidth">thin</property>
                        <property name="borderRightColor">#000000</property>
                        <property name="borderRightStyle">solid</property>
                        <property name="borderRightWidth">thin</property>
                        <property name="borderTopColor">#000000</property>
                        <property name="borderTopStyle">solid</property>
                        <property name="borderTopWidth">thin</property>
                        <label id="1815">
                            <property name="fontWeight">bold</property>
                            <text-property name="text">Drug name</text-property>
                        </label>
                    </cell>
                </row>
            </header>
            <detail>
                <row id="1810">
                    <cell id="1811">
                        <property name="borderBottomColor">#808080</property>
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">thin</property>
                        <property name="borderLeftColor">#808080</property>
                        <property name="borderLeftStyle">solid</property>
                        <property name="borderLeftWidth">thin</property>
                        <property name="borderRightColor">#808080</property>
                        <property name="borderRightStyle">solid</property>
                        <property name="borderRightWidth">thin</property>
                        <property name="borderTopColor">#808080</property>
                        <property name="borderTopStyle">solid</property>
                        <property name="borderTopWidth">thin</property>
                        <data id="1816">
                            <property name="backgroundColor">white</property>
                            <property name="textAlign">left</property>
                            <property name="resultSetColumn">drug_name</property>
                        </data>
                    </cell>
                </row>
            </detail>
            <footer>
                <row id="1812">
                    <cell id="1813"/>
                </row>
            </footer>
        </table>
    </body>
</report>
